<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>WebGIS KDE Heatmap Sampah</title>

    <!-- Leaflet CSS -->
    <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""
    />

    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <header>
        <h1>WebGIS Heatmap KDE Sampah</h1>
        <p>
            Contoh heatmap berbasis <strong>Kernel Density Estimation (KDE)</strong> 
            dari beberapa layer: timbulan sampah, kepadatan infrastruktur, dan tutupan lahan.
            <br>
            <em>Data yang digunakan di sini masih dummy, gantilah dengan data asli saat implementasi.</em>
        </p>
    </header>

    <section id="controls">
        <h2>Pengaturan Layer & Bobot</h2>
        <div class="layer-toggle">
            <label>
                <input type="checkbox" id="chkWaste" checked>
                Timbulan sampah (titik HoReCa / TPS)
            </label>
            <label>
                <input type="checkbox" id="chkInfra" checked>
                Kepadatan infrastruktur
            </label>
            <label>
                <input type="checkbox" id="chkLandcover" checked>
                Tutupan lahan
            </label>
        </div>

        <div class="weights">
            <div>
                <label for="wWaste">Bobot sampah: <span id="wWasteVal">0.5</span></label>
                <input type="range" id="wWaste" min="0" max="1" step="0.1" value="0.5">
            </div>
            <div>
                <label for="wInfra">Bobot infrastruktur: <span id="wInfraVal">0.3</span></label>
                <input type="range" id="wInfra" min="0" max="1" step="0.1" value="0.3">
            </div>
            <div>
                <label for="wLandcover">Bobot tutupan lahan: <span id="wLandcoverVal">0.2</span></label>
                <input type="range" id="wLandcover" min="0" max="1" step="0.1" value="0.2">
            </div>
            <button id="btnUpdate">Update Heatmap</button>
        </div>
    </section>

    <main>
        <div id="map"></div>
    </main>

    <footer>
        <p>
            Contoh sederhana WebGIS KDE &copy; 2025 â€“ silakan modifikasi untuk kebutuhan TA/GIS Anda.
        </p>
    </footer>

    <!-- Leaflet JS -->
    <script
        src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
        crossorigin=""
    ></script>

    <!-- Leaflet.heat plugin (KDE/heatmap) -->
    <script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>

    <!-- Data dummy (bisa diganti dengan data asli / hasil ekspor) -->
    <script src="assets/data/waste_points.js"></script>
    <script src="assets/data/infra_points.js"></script>
    <script src="assets/data/landcover_points.js"></script>

    <!-- App logic -->
    <script src="assets/js/app.js"></script>
</body>
</html>